<div class="container">
  <div class="row">
    <div class="col-12">
      <h2>Dashboard</h2><br>
      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item <%= @tab == "incoming" ? "active" : "" %>">
          <a class="nav-link <%= @tab == "incoming" ? "active" : "" %>" id="incoming-tab" data-toggle="tab" href="#incoming" role="tab" aria-controls="incoming" aria-selected="true">Incoming</a>
        </li>
        <li class="nav-item <%= @tab == "outgoing" ? "active" : "" %>">
          <a class="nav-link <%= @tab == "outgoing" ? "active" : "" %>" id="outgoing-tab" data-toggle="tab" href="#outgoing" role="tab" aria-controls="outgoing" aria-selected="true">Outgoing</a>
        </li>
        <li class="nav-item <%= @tab == "myposts" ? "active" : "" %>">
          <a class="nav-link <%= @tab == "myposts" ? "active" : "" %>" id="myposts-tab" data-toggle="tab" href="#myposts" role="tab" aria-controls="myposts" aria-selected="true">My Posts</a>
        </li>
      </ul>

      <div class="tab-content" id="myTabContent">
        <div class="tab-pane <%= @tab == "incoming" ? "active" : "" %> fade show mt-3" id="incoming" role="tabpanel" aria-labelledby="incoming-tab" id="incoming">
          <h3>Incoming connections</h3>
          <ul class="list-inline">
            <% @posts.each do |post| %>
              <% if post.connections.any? %>
                  <li class="list-inline-item"><%= post.title%></li>
                  <li class="list-inline-item"><strong><%= post.post_type %></strong></li>
                  <li><strong>Message:</strong> <%= post.connections[0].message %></li>
                  <li><strong>Responder:</strong>  <%= post.connections[0].responder[:name] %></li>
              <% end %>
            <% end %>
          </ul>
        </div>

        <div class="tab-pane <%= @tab == "outgoing" ? "active" : "" %> fade show mt-3" id="outgoing" role="tabpanel" aria-labelledby="outgoing-tab">
          <h3>Outgoing Connections</h3>
          <ul class="list-inline">
            <% @user_connections.each do |connection| %>
             <li class="list-inline-item"> <strong>Post title:</strong> <%= connection.post[:title] %></li>
             <li class="list-inline-item"><strong><%= connection.post[:post_type] %></strong> </li>
             <li> <strong>Author:</strong> <%= connection.post.author.name %></li>
             <li> <strong>Email:</strong> <%= connection.post.author.email %></li>
             <li> <strong>Message:</strong> <%= connection.message %></li><br>
            <% end %>
           </ul>
        </div>
        <div class="tab-pane <%= @tab == "myposts" ? "active" : "" %> fade show mt-3" id="myposts" role="tabpanel" aria-labelledby="myposts-tab">
          <h3>My Posts</h3>
            <ul class="list-inline">
            <% @posts.each do |post| %>
              <li class="list-inline-item"><%= post.title%></li>
              <li class="list-inline-item"><strong><%= post.post_type %></strong></li>
              <li><em>placeholder for distance</em></li>
              <li><%= post[:location] %></li>
              <li><%= post.description %></li>
            <% end %>
            </ul>
        </div>
      </div>
      </div>


